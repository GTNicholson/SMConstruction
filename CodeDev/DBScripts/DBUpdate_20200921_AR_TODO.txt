CREATE VIEW vwPODeliveryItemInfo
AS

select  
PODI.PODeliveryItemID,
PODI.QtyReceived,
POI.Description,
POI.PartNo,
POI.StockCode,
poi.QtyRequired,
POI.UnitPrice,
POD.GRNumber,
SOP.JobNo

from PODeliveryItem PODI
INNER JOIN PurchaseOrderItemAllocation POIA ON POIA.PurchaseOrderItemAllocationID=PODI.POItemAllocationID
INNER JOIN PurchaseOrderItem POI ON POI.PurchaseOrderItemID= POIA.PurchaseOrderItemID
INNER JOIN PODelivery POD ON POD.PODeliveryID=PODI.PODeliveryID
INNER JOIN PurchaseOrder PO ON PO.PurchaseOrderID=POI.PurchaseOrderID
LEFT JOIN SalesOrderPhase SOP ON SOP.SalesOrderPhaseID=POIA.CallOffID
go

